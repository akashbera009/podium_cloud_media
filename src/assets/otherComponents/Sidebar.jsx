import React, { useState } from 'react';
import './sidebar.css'; // Optional: include CSS for styling
import axios from 'axios';
import Upload from '../phootos/Upload';

const Sidebar = () => {
  const [isOpen, setIsOpen] = useState(false);
  // const [file, setFile] = useState(null);
  // const [fileName, setFileName] = useState("");
  const [owner, setOwner] = useState(localStorage.getItem('user') || '');
  const [message, setMessage] = useState('');
  const [openUpload, setOpenUpload] = useState(false);

  const toggleSidebar = (e) => {
    setIsOpen(!isOpen);
    e.stopPropagation()
  };
  const signOut =()=>{
    localStorage.setItem('user', null)
    localStorage.setItem('token', null)
    window.location.href = '/auth/login'
    console.log(localStorage.getItem('user'), localStorage.getItem('token'))
  }
const x =()=>{
  setOpenUpload(!openUpload)
  console.log('doing');
}

  return (
    <div >

      <button onClick={toggleSidebar} className="menu-button">
        {isOpen ?
        (       <svg
          id="Layer_1"
          data-name="Layer 1"
          xmlns="http://www.w3.org/2000/svg"
          viewBox="0 0 122.88 121.74"
          width="20px"
          height="20px"
          fill="#FFFFFF" 
        >
          <title>categories</title>
          <path d="M90.914,5.296c6.927-7.034,18.188-7.065,25.154-0.068 c6.961,6.995,6.991,18.369,0.068,25.397L85.743,61.452l30.425,30.855c6.866,6.978,6.773,18.28-0.208,25.247 c-6.983,6.964-18.21,6.946-25.074-0.031L60.669,86.881L30.395,117.58c-6.927,7.034-18.188,7.065-25.154,0.068 c-6.961-6.995-6.992-18.369-0.068-25.397l30.393-30.827L5.142,30.568c-6.867-6.978-6.773-18.28,0.208-25.247 c6.983-6.963,18.21-6.946,25.074,0.031l30.217,30.643L90.914,5.296L90.914,5.296z"/>
        </svg>) : 
      (
    <>
        <svg
        version="1.1"
        id="Layer_1"
        xmlns="http://www.w3.org/2000/svg"
        xmlns:xlink="http://www.w3.org/1999/xlink"
        x="0px"
        y="0px"
        viewBox="0 0 122.88 95.95"
        xml:space="preserve"
        width="20px"
        height="20px"
        fill="#FFFFFF" 
      >
        <g>
          <path
            d="M8.94,0h105c4.92,0,8.94,4.02,8.94,8.94l0,0c0,4.92-4.02,8.94-8.94,8.94h-105C4.02,17.88,0,13.86,0,8.94l0,0 C0,4.02,4.02,0,8.94,0L8.94,0z M8.94,78.07h105c4.92,0,8.94,4.02,8.94,8.94l0,0c0,4.92-4.02,8.94-8.94,8.94h-105 C4.02,95.95,0,91.93,0,87.01l0,0C0,82.09,4.02,78.07,8.94,78.07L8.94,78.07z M8.94,39.03h105c4.92,0,8.94,4.02,8.94,8.94l0,0 c0,4.92-4.02,8.94-8.94,8.94h-105C4.02,56.91,0,52.89,0,47.97l0,0C0,43.06,4.02,39.03,8.94,39.03L8.94,39.03z"
          />
        </g>
      </svg></>
      )}
      </button>

      <div className={`sidebar ${isOpen ? 'open' : 'closed'}`}>
    
        <nav className="sidebar-nav" >
      
          <ul>

          {/* <li >
           
          </li> */}
  <img src="https://i.ibb.co/gZhRFvN/cloud-media-logo.png" alt="cloud-media-logo" height={'50px'} border="0"/>
            <li><a href="/display">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              x="0px"
              y="0px"
              viewBox="0 0 122.88 94.03"
              style={{ enableBackground: "new 0 0 122.88 94.03" }}
              xmlSpace="preserve"
              width="20px"
              height="20px"
              fill="#FFFFFF" 
            >
              <g>
                <path
                  fillRule="evenodd"
                  clipRule="evenodd"
                  d="M7.27,8.75h7.18V0h41.95v8.75h59.17v11.71l-108.3-5.2V8.75L7.27,8.75z M0,21.61h122.88l-9.07,66.7
                    c-0.42,3.11-2.59,5.72-5.73,5.72H12.73c-3.14,0-5.4-2.59-5.73-5.73L0,21.61L0,21.61z"
                />
              </g>
            </svg>All Files</a></li>

            <li><a href="/display/images">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 122.88 122.151"
              width="20px"
              height="20px"
              fill="#FFFFFF"
            >
              <g>
                <path d="M8.676,0h105.529c2.405,0,4.557,0.984,6.124,2.552c1.567,1.567,2.551,3.754,2.551,6.124v104.8 c0,2.405-0.983,4.557-2.551,6.124c-1.568,1.567-3.755,2.552-6.124,2.552H8.676c-2.406,0-4.557-0.984-6.124-2.553 C0.984,118.032,0,115.845,0,113.476V8.675C0,6.27,0.984,4.119,2.552,2.552C4.12,0.984,6.307,0,8.676,0L8.676,0z M9.097,88.323 l35.411-33.9c1.421-1.313,3.645-1.167,4.921,0.255c0.037,0.036,0.037,0.073,0.073,0.073l31.459,37.218l4.812-29.6 c0.328-1.896,2.114-3.208,4.01-2.879c0.729,0.109,1.385,0.474,1.895,0.948l22.07,23.184V10.773c0-0.474-0.183-0.875-0.511-1.166 c-0.291-0.292-0.729-0.511-1.166-0.511H10.737c-0.474,0-0.875,0.182-1.166,0.511c-0.292,0.291-0.511,0.729-0.511,1.166v77.55H9.097 L9.097,88.323z M90.526,19.866c3.464,0,6.635,1.422,8.895,3.682c2.297,2.296,3.682,5.431,3.682,8.895 c0,3.463-1.421,6.634-3.682,8.894c-2.296,2.297-5.431,3.682-8.895,3.682c-3.462,0-6.634-1.421-8.894-3.682 c-2.297-2.296-3.682-5.431-3.682-8.894c0-3.463,1.421-6.634,3.682-8.895C83.929,21.251,87.064,19.866,90.526,19.866L90.526,19.866z"/>
              </g>
            </svg>
            Photos</a></li>

            <li><a href="/display/videos">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlns:xlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 121.78 122.88"
              xml:space="preserve"
              width="20px"
              height="20px"
              fill="#FFFFFF"
            >
              <g>
                <path
                  class="st0"
                  d="M30.06,0h61.65c3.43,0,6.23,2.81,6.23,6.23v6.47H23.83V6.23C23.83,2.8,26.63,0,30.06,0L30.06,0z M11.23,38.38 h99.32c6.18,0,11.23,5.05,11.23,11.23v62.04c0,6.18-5.05,11.23-11.23,11.23H11.23C5.05,122.88,0,117.83,0,111.65V49.61 C0,43.43,5.05,38.38,11.23,38.38L11.23,38.38z M54.11,58.38L81.4,77.41c0.45,0.29,0.86,0.67,1.18,1.13 c1.28,1.85,0.81,4.39-1.04,5.67L54.37,103c-0.7,0.58-1.6,0.92-2.59,0.92c-2.26,0-4.09-1.83-4.09-4.09V61.72h0.02 c0-0.81,0.24-1.62,0.73-2.33C49.73,57.54,52.27,57.09,54.11,58.38L54.11,58.38z M18.14,18.81h85.49c3.43,0,6.23,2.81,6.23,6.23 v6.72H11.91v-6.72C11.91,21.61,14.71,18.81,18.14,18.81L18.14,18.81z"
                />
              </g>
            </svg>
             Videos</a></li>
            <li><a href="/display/music">
            <svg
              version="1.1"
              id="Layer_1"
              xmlns="http://www.w3.org/2000/svg"
              xmlnsXlink="http://www.w3.org/1999/xlink"
              viewBox="0 0 104.23 122.88"
              style={{ enableBackground: "new 0 0 104.23 122.88" }}
              xmlSpace="preserve"
              width="20px"  // Set your desired width
              height="20px" // Set your desired height
              fill="#FFFFFF" // Set your desired fill color
            >
              <g>
                <path
                  className="st0"
                  d="M87.9,78.04c2.74-0.48,5.33-0.4,7.6,0.13V24.82L39.05,41.03v61.95c0.03,0.34,0.05,0.69,0.05,1.03 c0,0,0,0.01,0,0.01c0,8.34-8.75,16.62-19.55,18.49C8.76,124.37,0,119.12,0,110.77c0-8.34,8.76-16.62,19.55-18.48 c4.06-0.7,7.84-0.39,10.97,0.71l0-76.26h0.47L104.04,0v85.92c0.13,0.63,0.2,1.27,0.2,1.91c0,0,0,0,0,0.01 c0,6.97-7.32,13.89-16.33,15.44c-9.02,1.56-16.33-2.83-16.33-9.8C71.57,86.51,78.88,79.59,87.9,78.04L87.9,78.04L87.9,78.04z"
                />
              </g>
            </svg>Music</a></li>

            <li><a href="/display/others">
            <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 92.67 122.88" width="30px" height="30px">
              <title>plastic-recycling-code-number-7</title>
              <path fill='#ffff' d="M90.44,59.93L83.75,48.34l-8.62,5,6.7,11.6a6.55,6.55,0,0,1-5.64,9.81H52.13v-5l-17.23,10L52.13,89.6v-5H76.19A16.42,16.42,0,0,0,90.44,59.93ZM19.8,113.75a13.24,13.24,0,0,1-.5,3.77,8,8,0,0,1-1.56,2.91,6.64,6.64,0,0,1-2.5,1.84,8.24,8.24,0,0,1-3.26.61,7.25,7.25,0,0,1-5.77-2.43,7.91,7.91,0,0,1-1.57-2.87,12.47,12.47,0,0,1-.54-3.73v-3.46a13.54,13.54,0,0,1,.51-3.87,8.38,8.38,0,0,1,1.55-3,6.71,6.71,0,0,1,2.52-1.91A8.12,8.12,0,0,1,12,101a8,8,0,0,1,3.24.62,6.75,6.75,0,0,1,2.51,1.87,8.28,8.28,0,0,1,1.57,3,13.67,13.67,0,0,1,.53,3.85v3.46Zm-5.22-3.4a12.27,12.27,0,0,0-.19-2.27,4.76,4.76,0,0,0-.51-1.51,2.11,2.11,0,0,0-.78-.79,2.38,2.38,0,0,0-1.15-.26,2.46,2.46,0,0,0-1.14.25,2,2,0,0,0-.77.76A4.48,4.48,0,0,0,9.52,108a11.32,11.32,0,0,0-.21,2.17v3.6a11.51,11.51,0,0,0,.18,2.19,4.26,4.26,0,0,0,.52,1.42,2.12,2.12,0,0,0,.78.74,2.67,2.67,0,0,0,1.18.24,2.45,2.45,0,0,0,1.13-.24,1.81,1.81,0,0,0,.76-.72,3.83,3.83,0,0,0,.51-1.38,10.86,10.86,0,0,0,.2-2.13v-3.51Zm21.15-4.54H31.3V122.6H26.08V105.81H21.16v-4.55H36.29v4.55ZM53.91,122.6H49.28V114H44.39v8.64H39.18V101.26h5.21v8.18h4.89v-8.18h5.19V122.6Zm15.37-8.73H63.5v4.21H71v4.52H58.28V101.26H71v4.55H63.5v3.63h6.35v4.43Zm10.93,1.37H79.13v7.36H73.91V101.26H81a8.91,8.91,0,0,1,2.89.43A5.8,5.8,0,0,1,86.11,103a5.65,5.65,0,0,1,1.4,2.14,8.08,8.08,0,0,1,.45,2.79,7.92,7.92,0,0,1-.79,3.69,5.89,5.89,0,0,1-2,2.19l3.39,7.9v.88H83.24l-3-7.36Zm-1.08-4.55h1.74a2.1,2.1,0,0,0,.84-.15,1.34,1.34,0,0,0,.54-.43,2.34,2.34,0,0,0,.37-.76,4.29,4.29,0,0,0,.13-1.07,3.16,3.16,0,0,0-.47-1.93,1.6,1.6,0,0,0-1.34-.54H79.13v4.88ZM36.9,39.11H55.61v4.33a23.28,23.28,0,0,0-4.08,4.76,27.93,27.93,0,0,0-3.13,6.94,32.61,32.61,0,0,0-1.23,7H40.8a37,37,0,0,1,2.37-9.47,35.7,35.7,0,0,1,5.12-8.18H36.9V39.11ZM16.49,84.57h13.4V74.72H16.49a6.54,6.54,0,0,1-5.64-9.8L22.91,44l4.31,2.48V26.62L10,36.57l4.31,2.49L2.23,59.93A16.42,16.42,0,0,0,16.49,84.57ZM32.08,8.23,25.39,19.82l8.61,5,6.7-11.59a6.51,6.51,0,0,1,11.28,0L64,34.08,59.7,36.57l17.22,10V26.62l-4.29,2.49-12-20.88a16.46,16.46,0,0,0-28.51,0Z"/>
          </svg>
          Other</a></li>
          </ul>

          <ul>
          <li><a onClick={signOut}>
          <svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 89.63 122.88" width="20px" height="20px">
            <title>log-in</title>
            <path fill='#ffff' d="M33.27,68.66H7.15a7.23,7.23,0,0,1,0-14.45H33.27l-8.48-9.46a7.25,7.25,0,0,1,.5-10.16,7.07,7.07,0,0,1,10.06.5L54.62,56.61a7.25,7.25,0,0,1-.06,9.72L35.35,87.78a7.07,7.07,0,0,1-10.06.5,7.25,7.25,0,0,1-.5-10.16l8.48-9.46Zm16.25,54.08a7.22,7.22,0,1,1-2.83-14.17l3.39-.67c16.33-3.24,25.1-5.09,25.1-27.69V40.63c0-21-9.34-22.76-24.8-25.65l-3.63-.68A7.21,7.21,0,1,1,49.46.13L53,.81c22.82,4.26,36.6,6.84,36.6,39.82V80.21c0,34.43-12.84,37.11-36.74,41.85l-3.37.68Z"/>
        </svg>
        Sign Out</a></li>
          </ul>
        </nav>
      </div>

      {/* Optional overlay when sidebar is open */}
      {isOpen && <div className='sidebar-overlay'></div>}
    </div>
  );
};

export default Sidebar;
